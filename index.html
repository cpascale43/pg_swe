<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>TICKLE MVP</title>
    <link href="form.css" rel="stylesheet" />
  </head>

  <body>
    <form id="policycalculator">
      <h1>TICKLE Policy checker</h1>
      <p>
        Required fields are followed by
        <strong><abbr title="required">*</abbr></strong
        >.
      </p>
      <section>
        <h2>Demographic information</h2>
        <p>
          <label for="name">
            <span>First name: </span>
            <strong><abbr title="required">*</abbr></strong>
          </label>
          <input type="text" id="name" name="name" required />
        </p>
        <p>
          <label for="age">
            <span>Age: </span>
            <strong><abbr title="required">*</abbr></strong>
          </label>
          <input type="number" id="age" name="age" min="1" max="125" required />
        </p>
        <fieldset>
          <legend>
            <span>Gender: </span
            ><strong><abbr title="required">*</abbr></strong>
          </legend>

          <ul>
            <li>
              <label for="gender">
                <input type="radio" id="gender" name="gender" value="male" />
                Male
              </label>
            </li>
            <li>
              <label for="gender">
                <input type="radio" id="gender" name="gender" value="female" />
                Female
              </label>
            </li>
          </ul>
        </fieldset>
      </section>
      <section>
        <h2>Health information</h2>
        <p>
          <label for="health">
            <span>Health condition:</span>
          </label>
          <select id="health" name="userhealth">
            <option value="none">None</option>
            <option value="allergies">Allergies</option>
            <option value="heart disease">Heart Disease</option>
            <option value="sleep apnea">Sleep Apnea</option>
          </select>
        </p>
      </section>
      <section>
        <p><button type="submit">Get quote</button></p>
      </section>
    </form>
  </body>
  <!-- <script type="text/javascript" src="index.js"></script> -->
  <script type="module">
    // import calculateTotalPrice from "./index";

    const form = document.getElementById("policycalculator");

    form.addEventListener("submit", function (event) {
      event.preventDefault();

      const name = event.target.elements.name.value;
      const age = Number(event.target.elements.age.value);
      const gender = event.target.elements.gender.value;
      const healthCondition = event.target.elements.userhealth.value;

      const person = { name, age, gender, healthCondition };

      // alert(`Your final quote is ${calculateTotalPrice({ person })}`);
      alert(`you are ${person}`);
    });
  </script>
</html>
